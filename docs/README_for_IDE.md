# 给 IDE / AI 的快速说明：这 6 个文档各负责什么？

在开始写任何一行代码之前，请先阅读这 6 个文档，搞清楚它们各自扮演的角色。

---

## 1. `project_blueprint.md` – 项目蓝图（方向说明书）

你可以把它当作**项目总设计**：

- 这个工具要解决的核心问题是什么；
- 真实使用场景有哪些（频道 / URL 列表 / 批量处理）；
- 大致功能范围：P0 / P1 / P2；
- 模块划分和数据流（从 URL → 字幕检测 → 下载 → 翻译 → 摘要 → 输出）。

**用途：**  
当你在想“这个功能到底该不该做 / 该做成什么样”时，先看这里找方向。

---

## 2. `v2_final_plan.md` – 行为规范（最高优先级，法律条文）

这是**行为层面**的最终规范，优先级最高。

主要规定：

- Dry Run 的严格语义（只检测、不下载、不翻译、不摘要、不写报告、不更新增量）；  
- 增量策略（方案 B：默认跳过已成功 + 全局 `force` 强制重跑）；  
- 输出目录和文件命名规则（`out/` 里长什么样、`archives/` 放哪）；  
- LanguageConfig（UI 语言、字幕目标语言、摘要语言、双语模式、翻译策略）；  
- AI 翻译 / 摘要调用逻辑（官方优先、缓存、强制重译 / 重摘要）；  
- 并发 / 代理 / Cookie 的规则（默认值、推荐范围、不锁死上限等）。

**用途：**

- 实现 / 修改任何行为前，必须先查这里。  
- 如果其它文档和它矛盾，以 **`v2_final_plan.md` 为准**。  
- 觉得这里有问题 → 不要直接改代码，先让用户改文档。

---

## 3. `ide_任务表.md` – 任务清单 & 执行顺序（路线图）

这是**“要做什么 + 先后顺序”**的详细列表。

内容包括：

- P0 / P1 所有任务的编号、名称、说明、依赖关系；  
- 每个任务的大致工作量（XS/S/M/L，仅供排序参考）；  
- 建议的执行顺序（从 P0-1 开始往下做）；  
- 每个任务开始前 / 结束后，和用户交流时该说什么。

**用途：**

- 不要自己乱发明任务，按这里的任务一个个做；  
- 每次先声明“我在做 P0-X”，然后按任务描述修改代码；  
- 如需调整顺序或任务内容，先和用户沟通并更新此文件。

---

## 4. `ui_plan.md` – UI 布局与交互规划（界面施工图）

这是 GUI 的**结构图**和**交互规范**。

主要内容：

- 总布局：顶部工具栏 + 左侧侧边栏 + 中间主区域 + 底部日志框；  
- 频道模式 / URL 列表模式 / 运行设置 / 外观 & 系统 等页面的结构；  
- 每个页面里大致有哪些控件、按钮、开关；  
- 进度条、日志显示、ETA（可选）等的展示方式。

**用途：**

- 实现 GUI 时，按这里的布局搭壳子；  
- 不要随便改动布局结构或乱加复杂 UI；  
- 如要调整 UI 结构，先让用户更新本文件。

---

## 5. `acceptance_criteria.md` – 验收标准（怎么证明你做对了）

这是“**怎么验收**”的清单。

内容包括：

- 功能行为的验收条件：  
  - Dry Run / 增量 / 输出结构 / 语言行为等在用户视角下应该怎样表现；  
- 稳定性 / 容错：  
  - 小频道 / 中频道 / URL 列表下是否稳定、不崩溃；  
  - 出错时是否写日志 + `out/failed.txt`；  
- 性能和并发的基本要求；  
- 语言和国际化要求（不硬编码中文，语言由 LanguageConfig 决定）；  
- UI 是否符合 `ui_plan.md`；  
- 代码质量底线（由你自检并向用户解释）。

**用途：**

- 每做完一个阶段 / 里程碑，对照这里自测一次；  
- 向用户汇报时，用这里的条目说明“哪些已经达标、哪些还差一步”。

---

## 6. `ide_integration.md` – IDE 行为约束 & 旧代码参考规则

这是**专门写给你（IDE / AI）**的行为红线。

主要内容：

- 必须做的事（MUST）：  
  - 开工前阅读哪些文档；  
  - 每个任务开始前要说明什么，结束后要报告什么；  
- 禁止做的事（MUST NOT）：  
  - 不得擅自修改核心文档语义；  
  - 不得改变 Dry Run / 增量 / 输出结构 / LanguageConfig 等核心行为；  
  - 不得打乱任务顺序，不搞“黑盒大重构”；  
- **如何参考旧项目代码**：  
  - 旧代码是“参考资料”，不是“直接搬过来”；  
  - 可以复用工具函数、算法思路，但要按 V2 架构重写；  
  - 禁止直接复制旧控制器 / 老流水线 / 硬编码中文。

**用途：**

- 在你不确定“自己能不能这么干”时，先看这一份；  
- 特别是在想从 V1 抄代码时，一定对照这里的规则执行。

---

## 建议阅读 / 使用顺序（给 IDE）

1. **第一次接触项目时：**
   - 先读：`project_blueprint.md`（方向）  
   - 再读：`v2_final_plan.md`（行为规范）

2. **准备正式开发时：**
   - 读：`ide_任务表.md`（知道现在该做哪一件事）  
   - 如涉及 GUI：再读 `ui_plan.md`

3. **每次提交前：**
   - 对照：`acceptance_criteria.md` 自测是否达标  
   - 遇到行为/老代码相关的疑惑时：查 `ide_integration.md`

> 总结一句：  
> 这 6 份文档 =「做什么」+「怎么做」+「长什么样」+「做对没」+「IDE 怎么乖乖干活」。
